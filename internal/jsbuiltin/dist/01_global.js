function randomstring(size,chars){size=size||6;var max=(chars=chars||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789").length;let ret="";for(let i=0;i<size;i++)ret+=chars.charAt(Math.floor(Math.random()*max));return ret}function formatdate(format,timestamp){let jsdate,f;function formatChrCb(t,s){return f[t]?f[t]():s}function _pad(n,c){for(n=String(n);n.length<c;)n="0"+n;return n}const txt_words=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],formatChr=/\\?(.?)/gi;return f={d(){return _pad(f.j(),2)},D(){return f.l().slice(0,3)},j(){return jsdate.getDate()},l(){return txt_words[f.w()]+"day"},N(){return f.w()||7},S(){var j=f.j();let i=j%10;return["st","nd","rd"][(i=i<=3&&1===parseInt(j%100/10,10)?0:i)-1]||"th"},w(){return jsdate.getDay()},z(){var a=new Date(f.Y(),f.n()-1,f.j()),b=new Date(f.Y(),0,1);return Math.round((a-b)/864e5)},W(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3),b=new Date(a.getFullYear(),0,4);return _pad(1+Math.round((a-b)/864e5/7),2)},F(){return txt_words[6+f.n()]},m(){return _pad(f.n(),2)},M(){return f.F().slice(0,3)},n(){return jsdate.getMonth()+1},t(){return new Date(f.Y(),f.n(),0).getDate()},L(){var j=f.Y();return j%4==0&j%100!=0|j%400==0},o(){var n=f.n(),W=f.W();return f.Y()+(12===n&&W<9?1:1===n&&9<W?-1:0)},Y(){return jsdate.getFullYear()},y(){return f.Y().toString().slice(-2)},a(){return 11<jsdate.getHours()?"pm":"am"},A(){return f.a().toUpperCase()},B(){var H=3600*jsdate.getUTCHours(),i=60*jsdate.getUTCMinutes(),s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+3600)/86.4)%1e3,3)},g(){return f.G()%12||12},G(){return jsdate.getHours()},h(){return _pad(f.g(),2)},H(){return _pad(f.G(),2)},i(){return _pad(jsdate.getMinutes(),2)},s(){return _pad(jsdate.getSeconds(),2)},u(){return _pad(1e3*jsdate.getMilliseconds(),6)},e(){throw new Error("Not supported (see source code of date() for timezone on how to add support)")},I(){return new Date(f.Y(),0)-Date.UTC(f.Y(),0)!=new Date(f.Y(),6)-Date.UTC(f.Y(),6)?1:0},O(){var tzo=jsdate.getTimezoneOffset(),a=Math.abs(tzo);return(0<tzo?"-":"+")+_pad(100*Math.floor(a/60)+a%60,4)},P(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},T(){return"UTC"},Z(){return 60*-jsdate.getTimezoneOffset()},c(){return"Y-m-d\\TH:i:sP".replace(formatChr,formatChrCb)},r(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U(){return jsdate/1e3|0}},this.date=function(format,timestamp){return jsdate=void 0===timestamp?new Date:timestamp instanceof Date?new Date(timestamp):new Date(1e3*timestamp),format.replace(formatChr,formatChrCb)},this.date(format,timestamp)}function deepmerge(target,src){var array=Array.isArray(src),dst=array?[]:{};return array?(target=target||[],dst=dst.concat(target),src.forEach(function(e,i){void 0===dst[i]?dst[i]=e:"object"==typeof e?dst[i]=deepmerge(target[i],e):-1===target.indexOf(e)&&dst.push(e)})):(target&&"object"==typeof target&&Object.keys(target).forEach(function(key){dst[key]=target[key]}),Object.keys(src).forEach(function(key){"object"==typeof src[key]&&src[key]&&target[key]?dst[key]=deepmerge(target[key],src[key]):dst[key]=src[key]})),dst}
